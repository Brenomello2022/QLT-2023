OBS: Este código não pertence à mim.

Link do código: https://gist.github.com/sother/2423662